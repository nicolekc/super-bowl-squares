(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Q(e){return e.split(/\n\s*---\s*\n/).map(n=>n.trim()).filter(n=>n.length>0).map(ee)}function ee(e){const t=e.split(`
`).map(a=>a.trim()).filter(a=>a.length>0&&!a.startsWith("#"));if(t.length<2)throw new Error("Board needs at least a header and teams line");let n=0;const r=te(t[n++]),s=ne(t[n++]);r.topTeam=s.topTeam,r.leftTeam=s.leftTeam,n<t.length&&/^payouts?\b/i.test(t[n])&&(r.payouts=re(t[n++]));const o=t.slice(n);if(o.length===0)throw new Error("Board must have square data or full board data");return se(o)?{config:r,fullBoard:le(o,r)}:{config:r,mySquares:oe(o,r)}}function te(e){let t=e,n;const r=t.match(/\$(\d+)/);r&&(n=parseInt(r[1]),t=t.replace(r[0]," "));let s=10,o=10;const a=t.match(/\b(5|10)\s*x\s*(5|10)\b/i);if(a)s=parseInt(a[1]),o=parseInt(a[2]),t=t.replace(a[0]," ");else{const d=t.match(/\b(25|50|100)\s*squares?\b/i);if(d){const p=parseInt(d[1]);p===25?(s=5,o=5):p===100?(s=10,o=10):(s=5,o=10),t=t.replace(d[0]," ")}}const l=/\bre-?roll\b/i.test(t);t=t.replace(/\bre-?roll\b/gi," "),t=t.replace(/\bfull\b/gi," ");let u=t.replace(/\s+/g," ").trim();return u||(u="Board"),{name:u,buyIn:n,cols:s,rows:o,reroll:l,topTeam:"",leftTeam:""}}function ne(e){const t=e.match(/(.+?)\s+vs\.?\s+(.+)/i);if(!t)throw new Error(`Expected "Team1 vs Team2", got: "${e}"`);let n=t[1].trim(),r=t[2].trim();const s=/\(left\)/i.test(n),o=/\(top\)/i.test(r),a=l=>l.replace(/\s*\((top|left)\)\s*/gi,"").trim();return n=a(n),r=a(r),s||o?{topTeam:r,leftTeam:n}:{topTeam:n,leftTeam:r}}function re(e){const t=e.match(/^payouts?\s+(.+)/i);return t?t[1].split(/\s+/).map(n=>parseInt(n)).filter(n=>!isNaN(n)):[]}function se(e){const t=e[0];return/^top\s/i.test(t)||/^q[1-4]\s/i.test(t)}function oe(e,t){return e.map(n=>ae(n,t))}function ae(e,t){const n=ie(e,t),r=e.substring(0,n).trim(),s=e.substring(n+1).trim(),o=J(r,t.topTeam),a=J(s,t.leftTeam);if(t.reroll){if(o.length!==4||a.length!==4)throw new Error(`Reroll board needs 4 digit-groups per team. Got top=${o.length}, left=${a.length} in: "${e}"`);return{quarters:Array.from({length:4},(l,u)=>({topDigits:o[u],leftDigits:a[u]}))}}if(o.length!==1||a.length!==1)throw new Error(`Non-reroll board needs 1 digit-group per team. Got top=${o.length}, left=${a.length} in: "${e}"`);return{quarters:[{topDigits:o[0],leftDigits:a[0]}]}}function ie(e,t){const n=new RegExp(`,\\s*${Y(t.leftTeam)}\\b`,"i"),r=e.match(n);if(r&&r.index!==void 0)return r.index;const s=e.indexOf(",");if(s===-1)throw new Error(`No comma separator in square line: "${e}"`);return s}function J(e,t){const n=new RegExp(`^${Y(t)}\\s+`,"i");return e.replace(n,"").trim().split(/\s+/).map(A)}function A(e){if(e.length===1&&/\d/.test(e))return[parseInt(e)];if(e.length===2&&/\d\d/.test(e))return[parseInt(e[0]),parseInt(e[1])];throw new Error(`Invalid digit group "${e}": expected 1 or 2 digits`)}function le(e,t){let n=0;const r=[];if(t.reroll)for(let a=0;a<4;a++){if(n>=e.length)throw new Error(`Missing Q${a+1} line`);r.push(ce(e[n++],t))}else{if(n+1>=e.length)throw new Error("Need Top and Left lines");const a=K(e[n++],t.cols),l=K(e[n++],t.rows);r.push({topNumbers:a,leftNumbers:l})}const s=[];for(let a=0;a<t.rows;a++){if(n>=e.length)throw new Error(`Missing grid row ${a+1}`);s.push(ue(e[n++],t.cols))}let o=[];return n<e.length&&/^mine\b/i.test(e[n])&&(o=e[n++].replace(/^mine\s+/i,"").split(",").map(l=>l.trim()).filter(l=>l.length>0)),{quarters:r,grid:s,mySquareNames:o}}function ce(e,t){const r=e.replace(/^q[1-4]\s+/i,"").trim().match(/^top\s+(.*?)\s*,\s*left\s+(.*)/i);if(!r)throw new Error(`Expected "Q_ Top ..., Left ..." format in: "${e}"`);const s=_(r[1].trim()),o=_(r[2].trim()),a=s.split(/\s+/).map(A),l=o.split(/\s+/).map(A);if(a.length!==t.cols)throw new Error(`Expected ${t.cols} top numbers, got ${a.length}`);if(l.length!==t.rows)throw new Error(`Expected ${t.rows} left numbers, got ${l.length}`);return{topNumbers:a,leftNumbers:l}}function K(e,t){let n=e.replace(/^(top|left)\s+/i,"").trim();n=_(n);const r=n.split(/\s+/).map(A);if(r.length!==t)throw new Error(`Expected ${t} number groups, got ${r.length} in: "${e}"`);return r}function _(e){const t=e.search(/\d/);return t<=0?e:e.substring(t).trim()}function ue(e,t){if(e.includes(",")){const r=e.split(",").map(s=>s.trim()).filter(s=>s.length>0);if(r.length===t)return r}const n=e.split(/\s+/).filter(r=>r.length>0);if(n.length===t)return n;throw new Error(`Grid row needs ${t} names, couldn't parse: "${e}"`)}function Y(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function P(e){return Math.abs(e)%10}function F(e,t){return e.config.reroll?t:0}function pe(e,t,n,r,s){const o=P(t),a=P(n),l=e.topDigits.includes(o)&&e.leftDigits.includes(a);if(l)return{isWinner:!0,nearMisses:[]};const u=[];for(const d of[3,7]){const p=P(t+d);e.topDigits.includes(p)&&e.leftDigits.includes(a)&&u.push({team:r,points:d})}for(const d of[3,7]){const p=P(n+d);e.topDigits.includes(o)&&e.leftDigits.includes(p)&&u.push({team:s,points:d})}return{isWinner:l,nearMisses:u}}function de(e,t){if(!e.mySquares)return[];const n=F(e,t.quarter),{topTeam:r,leftTeam:s}=e.config;return e.mySquares.map(o=>{const a=o.quarters[n];return pe(a,t.score.top,t.score.left,r,s)})}function W(e,t){return e.findIndex(n=>n.includes(t))}function me(e,t,n,r,s){const o=P(t),a=P(n),l=W(e.topNumbers,o),u=W(e.leftNumbers,a),d={row:u,col:l},p=[];for(const m of[3,7]){const h=P(t+m),c=W(e.topNumbers,h);c!==-1&&c!==l&&p.push({pos:{row:u,col:c},nearMiss:{team:r,points:m}})}for(const m of[3,7]){const h=P(n+m),c=W(e.leftNumbers,h);c!==-1&&c!==u&&p.push({pos:{row:c,col:l},nearMiss:{team:s,points:m}})}return{winnerPos:d,nearMissPositions:p}}function V(e,t){var m,h;if(!e.fullBoard)return new Map;const n=F(e,t.quarter),r=e.fullBoard.quarters[n],{topTeam:s,leftTeam:o}=e.config,a=me(r,t.score.top,t.score.left,s,o),l=new Set(e.fullBoard.mySquareNames.map(c=>c.toLowerCase())),u=new Map,d=`${a.winnerPos.row},${a.winnerPos.col}`,p=((m=e.fullBoard.grid[a.winnerPos.row])==null?void 0:m[a.winnerPos.col])??"";u.set(d,{isWinner:!0,isMine:l.has(p.toLowerCase()),nearMisses:[]});for(const c of a.nearMissPositions){const f=`${c.pos.row},${c.pos.col}`,C=((h=e.fullBoard.grid[c.pos.row])==null?void 0:h[c.pos.col])??"",w=u.get(f);w?w.nearMisses.push(c.nearMiss):u.set(f,{isWinner:!1,isMine:l.has(C.toLowerCase()),nearMisses:[c.nearMiss]})}return u}function $(e){return e.length===2?`${e[0]}${e[1]}`:`${e[0]}`}function X(e){return e.map(fe).join(`
---
`)}function fe(e){const t=[],n=e.config;let r=n.name;return n.buyIn!=null&&(r+=` $${n.buyIn}`),r+=` ${n.cols}x${n.rows}`,n.reroll&&(r+=" reroll"),e.fullBoard&&(r+=" full"),t.push(r),e.fullBoard?t.push(`${n.topTeam} (top) vs ${n.leftTeam} (left)`):t.push(`${n.topTeam} vs ${n.leftTeam}`),n.payouts&&n.payouts.length>0&&t.push("Payouts "+n.payouts.join(" ")),e.fullBoard?t.push(...ge(e.fullBoard,n)):e.mySquares&&t.push(...he(e.mySquares,n)),t.join(`
`)}function he(e,t){return e.map(n=>{if(t.reroll){const r=n.quarters.map(o=>$(o.topDigits)),s=n.quarters.map(o=>$(o.leftDigits));return`${t.topTeam} ${r.join(" ")}, ${t.leftTeam} ${s.join(" ")}`}else{const r=n.quarters[0];return`${t.topTeam} ${$(r.topDigits)}, ${t.leftTeam} ${$(r.leftDigits)}`}})}function ge(e,t){const n=[];if(e.quarters.length===1){const r=e.quarters[0];n.push(`Top ${t.topTeam} ${r.topNumbers.map($).join(" ")}`),n.push(`Left ${t.leftTeam} ${r.leftNumbers.map($).join(" ")}`)}else for(let r=0;r<e.quarters.length;r++){const s=e.quarters[r];n.push(`Q${r+1} Top ${s.topNumbers.map($).join(" ")}, Left ${s.leftNumbers.map($).join(" ")}`)}for(const r of e.grid)n.push(r.join(", "));return e.mySquareNames.length>0&&n.push("Mine "+e.mySquareNames.join(", ")),n}const we=["Q1","Q2","Q3","Final"],O="sb-squares-data";let v=[],g={quarter:0,score:{top:0,left:0}},D="setup";function i(e,t,n){const r=document.createElement(e);if(typeof t=="string")t&&(r.className=t);else if(t)for(const[s,o]of Object.entries(t))s==="className"?r.className=o:r.setAttribute(s,o);if(n)for(const s of n)r.appendChild(typeof s=="string"?document.createTextNode(s):s);return r}function k(e){return document.createTextNode(e)}function L(e,t,n){const r=i("button",t,[e]);return r.type="button",r.addEventListener("click",n),r}function T(e,t){const n=document.createElement("input");if(n.type=e,t)for(const[r,s]of Object.entries(t))r==="className"?n.className=s:n.setAttribute(r,s);return n}function be(e){const t=document.createElement("select");for(const n of e){const r=document.createElement("option");r.value=n.value,r.textContent=n.label,t.appendChild(r)}return t}function I(e){const t=document.querySelector(".toast");t&&t.remove();const n=i("div","toast",[e]);document.body.appendChild(n),setTimeout(()=>n.remove(),2200)}function z(){if(v.length===0){localStorage.removeItem(O);return}localStorage.setItem(O,X(v))}function ve(){return localStorage.getItem(O)}const j=document.getElementById("app");function E(){j.innerHTML="",j.appendChild(ye()),j.appendChild($e()),D==="setup"?j.appendChild(Ce()):j.appendChild(Se())}function ye(){return i("div","banner",[i("h1","",["Super Bowl Squares"]),i("div","subtitle",["Track your squares, scores, and near-misses"])])}function $e(){const e=i("div","tabs"),t=L("Setup",`${D==="setup"?"active":""}`,()=>{D="setup",E()}),n=L("Scoring",`${D==="scoring"?"active":""}`,()=>{if(v.length===0){I("Load or add boards first");return}D="scoring",E()});return e.appendChild(t),e.appendChild(n),e}function Ce(){const e=i("div","setup-panel"),t=ve();return t&&v.length===0&&e.appendChild(qe(t)),e.appendChild(xe()),e.appendChild(i("div","divider",[k("or")])),e.appendChild(Ne()),v.length>0&&e.appendChild(Ee()),e}function qe(e){const t=i("div","restore-bar");t.appendChild(i("span","",["Previously saved board data found."]));const n=i("div","restore-actions");return n.appendChild(L("Restore","btn btn-primary btn-sm",()=>{try{v=Q(e),z(),D="scoring",E()}catch(r){I("Error restoring: "+r.message)}})),n.appendChild(L("Dismiss","btn btn-secondary btn-sm",()=>{localStorage.removeItem(O),E()})),t.appendChild(n),t}function xe(){const e=i("div","setup-section");e.appendChild(i("h3","",["Paste Board Data"]));const t=document.createElement("textarea");t.placeholder=`Paste your board configuration here...

Example:
Office Pool $25 10x10
Chiefs vs Eagles
Top Chiefs 0 1 2 3 4 5 6 7 8 9
Left Eagles 0 1 2 3 4 5 6 7 8 9
Alice, Bob, ...`,t.rows=8,e.appendChild(t);const n=i("div","form-row mt-1");return n.appendChild(L("Load Boards","btn btn-primary",()=>{const r=t.value.trim();if(!r){I("Paste board data first");return}try{v=Q(r),z(),D="scoring",E(),I(`Loaded ${v.length} board(s)`)}catch(s){I("Parse error: "+s.message)}})),e.appendChild(n),e}function Ne(){const e=i("div","setup-section");e.appendChild(i("h3","",["Set Up Manually"]));const t=T("text",{placeholder:"Board name (e.g. Office Pool)",className:""});t.style.flex="1";const n=i("div","form-row",[i("label","",["Name"]),t]);e.appendChild(n);const r=T("number",{placeholder:"25",className:""});r.style.width="6rem";const s=i("div","form-row",[i("label","",["Buy-in ($)"]),r]);e.appendChild(s);const o=be([{value:"10x10",label:"10x10 (100 squares)"},{value:"5x5",label:"5x5 (25 squares)"},{value:"5x10",label:"5x10 (50 squares)"},{value:"10x5",label:"10x5 (50 squares)"}]),a=i("div","form-row",[i("label","",["Size"]),o]);e.appendChild(a);const l=T("checkbox"),u=i("div","form-row",[i("label","",["Reroll"]),l,i("span","text-sm text-muted",["Numbers change each quarter"])]);e.appendChild(u);const d=T("text",{placeholder:"Chiefs",className:""});d.style.flex="1";const p=T("text",{placeholder:"Eagles",className:""});p.style.flex="1";const m=i("div","form-row",[i("label","",["Teams"]),d,i("span","vs-label",["vs"]),p]);e.appendChild(m);const h=T("text",{placeholder:"50 100 150 200 (optional)",className:""});h.style.flex="1";const c=i("div","form-row",[i("label","",["Payouts"]),h]);e.appendChild(c);const f=T("radio",{name:"board-mode",value:"mine"});f.checked=!0;const C=T("radio",{name:"board-mode",value:"full"}),w=i("div","radio-group mt-2",[i("label","",[f,k(" Just my squares")]),i("label","",[C,k(" Full board")])]);e.appendChild(w);const x=i("div","mt-1");x.id="my-squares-input";const S=document.createElement("textarea");S.placeholder=`One square per line:
Chiefs 3, Eagles 7
Chiefs 0, Eagles 2`,S.rows=6,x.appendChild(i("label","text-sm text-muted mb-1",["Enter your squares (one per line):"])),x.appendChild(S),e.appendChild(x);const q=i("div","mt-1 hidden");q.id="full-board-input";const B=T("text",{placeholder:"0 1 2 3 4 5 6 7 8 9",className:""});B.style.flex="1",q.appendChild(i("div","form-row",[i("label","",["Top #s"]),B]));const y=T("text",{placeholder:"0 1 2 3 4 5 6 7 8 9",className:""});y.style.flex="1",q.appendChild(i("div","form-row",[i("label","",["Left #s"]),y]));const R=document.createElement("textarea");R.placeholder=`Grid rows (comma-separated names):
Alice, Bob, Carol, Dave, Eve, Frank, Grace, Hank, Ivy, Jack
...`,R.rows=6,q.appendChild(i("label","text-sm text-muted mb-1",["Grid (one row per line):"])),q.appendChild(R);const b=T("text",{placeholder:"Your name(s), comma-separated",className:"w-full mt-1"});q.appendChild(i("div","form-row mt-1",[i("label","",["Mine"]),b])),e.appendChild(q),f.addEventListener("change",()=>{x.classList.remove("hidden"),q.classList.add("hidden")}),C.addEventListener("change",()=>{x.classList.add("hidden"),q.classList.remove("hidden")});const N=i("div","form-row mt-2");return N.appendChild(L("Add Board","btn btn-primary",()=>{try{const M=Te(t,r,o,l,d,p,h,f,S,B,y,R,b);v.push(M),z(),E(),I("Board added")}catch(M){I("Error: "+M.message)}})),e.appendChild(N),e}function Te(e,t,n,r,s,o,a,l,u,d,p,m,h){const c=e.value.trim()||"Board",f=t.value?parseInt(t.value):void 0,[C,w]=n.value.split("x").map(Number),x=r.checked,S=s.value.trim()||"Team A",q=o.value.trim()||"Team B",B=a.value.trim(),y=B?B.split(/[\s,]+/).map(Number).filter(b=>!isNaN(b)):void 0;if(l.checked){const b=[];let N=c;f!=null&&(N+=` $${f}`),N+=` ${C}x${w}`,x&&(N+=" reroll"),b.push(N),b.push(`${S} vs ${q}`),y&&y.length>0&&b.push("Payouts "+y.join(" "));const M=u.value.trim().split(`
`).filter(G=>G.trim());if(M.length===0)throw new Error("Enter at least one square");return b.push(...M),Q(b.join(`
`))[0]}else{const b=[];let N=c;f!=null&&(N+=` $${f}`),N+=` ${C}x${w}`,x&&(N+=" reroll"),N+=" full",b.push(N),b.push(`${S} (top) vs ${q} (left)`),y&&y.length>0&&b.push("Payouts "+y.join(" "));const M=d.value.trim(),G=p.value.trim();if(!M||!G)throw new Error("Enter top and left numbers");b.push(`Top ${S} ${M}`),b.push(`Left ${q} ${G}`);const H=m.value.trim().split(`
`).filter(Z=>Z.trim());if(H.length!==w)throw new Error(`Expected ${w} grid rows, got ${H.length}`);b.push(...H);const U=h.value.trim();return U&&b.push("Mine "+U),Q(b.join(`
`))[0]}}function Ee(){var n;const e=i("div","setup-section");e.appendChild(i("h3","",[`Boards (${v.length})`]));for(let r=0;r<v.length;r++){const s=v[r],o=i("div","board-summary"),a=i("div","board-info",[k(`${s.config.name} — ${s.config.cols}x${s.config.rows}`)]),l=i("div","board-meta",[k(`${s.config.topTeam} vs ${s.config.leftTeam}`+(s.fullBoard?" (full board)":` (${((n=s.mySquares)==null?void 0:n.length)??0} squares)`)+(s.config.buyIn?` | $${s.config.buyIn}`:""))]),u=L("Remove","btn btn-danger btn-sm",()=>{v.splice(r,1),z(),E()}),d=i("div","",[a,l]);o.appendChild(d),o.appendChild(u),e.appendChild(o)}const t=i("div","form-row mt-2");return t.appendChild(L("Copy Board Data","btn btn-secondary",()=>{const r=X(v);navigator.clipboard.writeText(r).then(()=>{I("Board data copied to clipboard")}).catch(()=>{I("Could not copy — check permissions")})})),t.appendChild(L("Start Scoring","btn btn-primary",()=>{D="scoring",E()})),e.appendChild(t),e}function Se(){const e=i("div","scoring-panel");e.appendChild(Be());for(const t of v)e.appendChild(Le(t));return e}function Be(){const e=i("div","scoring-header"),t=i("div","quarter-bar"),n=i("span","quarter-label",[we[g.quarter]]),r=i("div","flex gap-sm");g.quarter>0&&r.appendChild(L("Prev Quarter","btn btn-secondary btn-sm",()=>{g.quarter--,E()})),g.quarter<3&&r.appendChild(L("Next Quarter","btn btn-secondary btn-sm",()=>{g.quarter++,E()})),t.appendChild(n),t.appendChild(r),e.appendChild(t);const s=v.length>0?v[0].config.topTeam:"Top",o=v.length>0?v[0].config.leftTeam:"Left",a=i("div","score-row"),l=T("number",{className:"score-input",value:String(g.score.top)});l.min="0";const u=T("number",{className:"score-input",value:String(g.score.left)});u.min="0";const d=i("div","score-group",[i("label","",[s]),l]),p=i("span","score-dash",["–"]),m=i("div","score-group",[u,i("label","",[o])]),h=L("Update","btn btn-primary btn-sm",()=>{g.score.top=parseInt(l.value)||0,g.score.left=parseInt(u.value)||0,E()}),c=f=>{f.key==="Enter"&&(g.score.top=parseInt(l.value)||0,g.score.left=parseInt(u.value)||0,E())};return l.addEventListener("keydown",c),u.addEventListener("keydown",c),a.appendChild(d),a.appendChild(p),a.appendChild(m),a.appendChild(h),e.appendChild(a),e}function Le(e){const t=i("div","board-card"),n=[`${e.config.cols}x${e.config.rows}`,e.config.reroll?"reroll":"",e.config.buyIn?`$${e.config.buyIn}`:""].filter(Boolean).join(" | ");return t.appendChild(i("h3","",[e.config.name])),t.appendChild(i("div","card-meta",[`${e.config.topTeam} vs ${e.config.leftTeam} — ${n}`])),e.fullBoard?(t.appendChild(Ie(e)),t.appendChild(Pe(e))):e.mySquares&&t.appendChild(Me(e)),t}function Me(e){const t=de(e,g),n=i("ul","square-list");return e.mySquares.forEach((r,s)=>{const o=t[s],a=F(e,g.quarter),l=r.quarters[a],u=`${e.config.topTeam} ${$(l.topDigits)}, ${e.config.leftTeam} ${$(l.leftDigits)}`,d=document.createElement("li");if(o.isWinner){d.className="status-winner";let p=`★ WINNER: ${u}`;e.config.payouts&&e.config.payouts[g.quarter]!=null&&(p+=` — $${e.config.payouts[g.quarter]}`),d.textContent=p}else if(o.nearMisses.length>0){d.className="status-near";const p=o.nearMisses.map(m=>`${m.team} +${m.points}`).join(", ");d.textContent=`○ Near: ${u} (${p})`}else d.className="status-dim",d.textContent=`· ${u}`;n.appendChild(d)}),n}function Ie(e){var h;const t=e.fullBoard,n=F(e,g.quarter),r=t.quarters[n],s=V(e,g),o=new Set(t.mySquareNames.map(c=>c.toLowerCase())),a=i("div","grid-table-wrapper"),l=i("table","grid-table"),u=document.createElement("thead"),d=document.createElement("tr"),p=document.createElement("th");p.className="corner",d.appendChild(p);for(let c=0;c<e.config.cols;c++){const f=document.createElement("th");f.textContent=$(r.topNumbers[c]),d.appendChild(f)}u.appendChild(d),l.appendChild(u);const m=document.createElement("tbody");for(let c=0;c<e.config.rows;c++){const f=document.createElement("tr"),C=document.createElement("th");C.textContent=$(r.leftNumbers[c]),f.appendChild(C);for(let w=0;w<e.config.cols;w++){const x=document.createElement("td"),S=((h=t.grid[c])==null?void 0:h[w])??"";x.textContent=S,x.title=S;const q=`${c},${w}`,B=s.get(q),y=[];B!=null&&B.isWinner?y.push("cell-winner"):B&&B.nearMisses.length>0&&y.push("cell-near"),o.has(S.toLowerCase())&&y.push("cell-mine"),y.length>0&&(x.className=y.join(" ")),f.appendChild(x)}m.appendChild(f)}return l.appendChild(m),a.appendChild(l),a}function Pe(e){var u,d;const t=e.fullBoard,n=F(e,g.quarter),r=t.quarters[n],s=V(e,g),o=new Set(t.mySquareNames.map(p=>p.toLowerCase())),a=i("div","status-summary");for(const[p,m]of s.entries()){const[h,c]=p.split(",").map(Number),f=((u=t.grid[h])==null?void 0:u[c])??"???";if(m.isWinner){const C=o.has(f.toLowerCase()),w=i("div",C?"status-winner":"",[k(`★ Winner: ${f} [${$(r.topNumbers[c])}, ${$(r.leftNumbers[h])}]`)]);C&&e.config.payouts&&e.config.payouts[g.quarter]!=null&&w.appendChild(k(` — $${e.config.payouts[g.quarter]}`)),a.appendChild(w)}}const l=[];for(const[p,m]of s.entries())if(m.nearMisses.length>0){const[h,c]=p.split(",").map(Number),f=((d=t.grid[h])==null?void 0:d[c])??"???";if(o.has(f.toLowerCase())){const C=m.nearMisses.map(w=>`${w.team} +${w.points}`).join(", ");l.push(`○ ${f} [${$(r.topNumbers[c])}, ${$(r.leftNumbers[h])}] (${C})`)}}if(l.length>0)for(const p of l)a.appendChild(i("div","status-near",[p]));if(o.size>0&&l.length===0){let p=!1;for(const[,m]of s.entries())m.isWinner&&m.isMine&&(p=!0);p||a.appendChild(i("div","status-dim text-sm",["No near-misses for your squares this quarter."]))}return a}function De(){E()}De();
